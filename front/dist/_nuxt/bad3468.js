(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{371:function(e,t,r){"use strict";r.r(t);r(41),r(32),r(65),r(66);var n=r(20),o=r(3);r(45),r(11),r(39),r(53),r(25),r(125),r(33);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={data:function(){return{users:[],defaultUsers:[]}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/users/verifications",{headers:{Authorization:e.$auth.$storage._state["_token.local"]}});case 2:(r=t.sent)&&(r.forEach((function(t){t.id!==e.$auth.user.id&&(t=l(l({},t),{},{input:""}),e.users.push(t),e.defaultUsers.push(t))})),console.log(r));case 4:case"end":return t.stop()}}),t)})))()},methods:{getLink:function(e,t){var r="carte_id"===t?e.carte_id:e.certificatScolaire,text="carte_id"===t?"Carte d'identité":"Certificat scolaire";return'<a href="'.concat("http://localhost:3000","/users/files?bearer=").concat(this.$auth.$storage._state["_token.local"].split(" ")[1],"&user_id=").concat(e.id,"&filename=").concat(r,'">').concat(text,"</a>")},validateUser:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("validé"!==e.input){r.next=5;break}return r.next=3,t.$axios.$patch("/users/verified/".concat(e.id),{verified:!0},{headers:t.$auth.$storage._state["_token.local"]});case 3:(n=r.sent)&&1===n.affected&&(t.users=t.users.filter((function(t){return t.id!=e.id})),t.defaultUsers=t.defaultUsers.filter((function(t){return t.id!=e.id})));case 5:case"end":return r.stop()}}),r)})))()}}},f=r(44),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Valid Users")]),e._v(" "),n("ul",e._l(e.users,(function(t){return n("li",{key:t.id},[n("div",{staticClass:"ml-[20px] mr-[10px] w-[80px] h-[80px] rounded-[100%] flex justify-center items-center border border-[#213B83]"},[n("div",{staticClass:"w-[70px] h-[70px] rounded-[100%] overflow-hidden"},[n("img",{staticClass:"w-full h-full object-cover",attrs:{src:r(221)("./"+t.picture)}})])]),e._v(" "),n("p",[e._v(e._s(t.name)+" "+e._s(t.surname))]),e._v(" "),n("p",[e._v(e._s(t.email))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.getLink(t,"carte_id"))}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.getLink(t,"certificatScolaire"))}}),e._v(" "),n("form",{on:{submit:function(r){return r.preventDefault(),e.validateUser(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"user.input"}],staticClass:"border rounded-md p-2",attrs:{type:"text",placeholder:"taper validé"},domProps:{value:t.input},on:{input:function(r){r.target.composing||e.$set(t,"input",r.target.value)}}}),e._v(" "),n("button",{staticClass:"text-[#07DF00] font-bold rounded-[5px] shadow p-2",attrs:{type:"submit"}},[e._v("Valider")])])])})),0)])}),[],!1,null,null,null);t.default=component.exports}}]);